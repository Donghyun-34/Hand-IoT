[<= back to Table of Contents](table_of_contents.md)
<br/>

# Gesture Explanation
## 사용되는 제스처 종류
Hand IoT 프로젝트에서 사용되는 제스처는 크게 2가지로 분류가 가능하다.
### 1. 정적 제스처
    - 정적 제스처는 오른손이라면 1, 왼손이면 0으로 손을 구분하는 것과 함께 접힌 손가락은 0, 펴진 손가락은 1로 표기해서 총 6자리 문자열로 표현이 된다.

    - 정적 제스처를 나타내는 문자열(정적코드)는 왼쪽에서 부터 
        '오른-왼손 구분 | 엄지 | 검지 | 중지 | 약지 | 소지'
      로 표기한다.

    - 예시로 '111111'은 오른손 모든 손가락를 핀 상태를, '001100'은 왼손으로 검지와 중지만 핀 상태를 나타낸다.

    - 해당 프로그램에서는 주먹쥔 손이나 활짝 핀 손에 해당하는 코드인 '000000', '100000', '011111', '111111'은 사용이 불가능한 코드로 지정되어있다. 

### 2. 동적 제스처
    - 동적 제스처는 크게 2종류로 손을 한쪽 방향으로만 움직이는 '스와이프 제스처'와 원을 그리는 '서클 제스처'가 있다.

    - 각각 좌/우 스와이프나 시계/반시계 서클 제스처가 가능해서 실질적으로 4가지의 서로 구분되는 동적 제스처가 가능하다.

## 제스처 인식시키기

프로그램의 인식 단계는 총 3단계로 구성되어 있다.

  1) 트리거 인식
  2) 정적 제스처 인식
  3) 동적 제스처 인식 & 전송


### 1. 트리거 인식 단계
    프로그램을 실행한 후 왼손(or 오른손)을 n초(기본 1초) 이내로 주먹을 쥐었다 피면 트리거로 인식하게된다.

    - 이때 n초는 trigger함수에서 수정이 가능하다


### 2. 정적 제스처 인식 단계
    트리거를 통과했다면 프로그램 상에서[S] 단계로 넘어간 것을 볼 수 있다. 이때 timeout(4초)이 발생하기 전에 원하는 정적 제스처(펴진 손가락 개수)를 인식시켜준다.

    - 4초동안 인식된 정적 제스처가 없으면 1단계로 돌아간다. 

### 3. 동적 제스처 인식 단계
    정적 제스처가 인식되었다면 프로그램 상에서[D] 단계로 넘어간 것을 볼 수 있다. 이때 timeout(기본 4초)이 발생하기 전에 원하는 동적 제스처(swipe, circle)를 인식시켜준다.

    - timeout동안 인식된 정적 제스처가 없으면 1단계로 돌아간다. 
    - timeout은 'project.pde' 상단에 전역으로 선언되어 있다.
  
    동적 제스처가 인식되면 정적 제스처를 이용하여 일치하는 아두이노 기기를 검색하고 일치하는 아두이노 기기가 있다면 해당 아두이노 기기의 동적 제스처에 해당되는 http 형태의 신호를 보내게 된다.

    -  일치하는 아두이노 기기가 없으면 error를 발생시키고 1단계로 돌아간다.

    신호 전송 후 아두이노 기기가 동작을 끝내 응답 신호가 돌아오면 다시 1단계로 돌아간다.</br>
    이후 이 단계를 반복하게 된다. 